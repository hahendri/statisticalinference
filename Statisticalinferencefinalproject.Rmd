---
title: "Statistical Inference Simulation Exercise"
author: "Harland Hendricks"
date: "June 27, 2018"
output: pdf_document
---

The instructions for this assignment are located [here.](https://www.coursera.org/learn/statistical-inference/peer/3k8j5/statistical-inference-course-project)

Built with R version 'r getRversion()' with the following system:
```{r, echo = FALSE}
Sys.info()
```

```{r, echo = FALSE}
system('wmic OS get TotalVisibleMemorySize /Value')

```

Load the required libraries
```{r}
library(dplyr)
library(ggplot2)
```

## Comparing R's Exponential Distribution and the Central Limit Theorem

### Simulation

For our experiment we will use $${\lambda} = 0.2$$ and run 1000 simulations for the Exponential Distribution
and store the results in an object named ed, this represents the Law of Large Numbers distribution
that can demonstrate the Central Limit Theorem.
```{r}
set.seed(1234)
n <- 1000
l <- 0.2
ed <- rexp(n, l)
```

We will also run 1000 simulations to sample the mean of 40 observation from the Exponential Distribution
and store this result in the object named mns.
```{r}
set.seed(1234)
mns = NULL
for (i in 1 : 1000) mns <- c(mns, mean(rexp(40, l)))
```

We will also run 1000 simulations to sample the mean of 40 observation from the Exponential Distribution
and store this result in the object named mns.
```{r}
set.seed(1234)
vars = NULL
for (i in 1 : 1000) vars <- c(vars, sd(rexp(40, l))^2)
```

### Sample Mean vs Theoretical Mean

We know that the theoretical mean of the Exponential Distribution is $$1/{\lambda}$$
We can calcualte the theoretical mean and compare it to the mean of the 1000 observations 
in the Exponential Distribution stored in object ed:
```{r}
##Theoretical Mean
tm <- 1/l
print(tm)
##Expenetial Distribution Mean from 1000 observations
meaned <- mean(ed)
print(meaned)
##Difference in means
tm-meaned
```

These means are close when looking at 1000 observations, but what if we compare the mean 
from a sample of only 40 observations from the Exponential Distribution that was 
simulated 1000 times and stored in the object mns to the theoretical mean and compare 
the difference of means to the previous calculation?
```{r}
##Mean from sample of 40 observations from Exponential Distribution simulated 1000 times
meanmns <- mean(mns)
print(meanmns)
##Difference from theoretical
tm - meanmns
```
The result is a little larger, but still pretty close.  Figure one displays the Eponential 
Distribution and means.

```{r, fig.cap = "Figure One - Theoretical, 1000 observations, and 40 observations Means for Exponential Distribution"}
hist(ed, breaks = 200, main = "Mean Comparisons", xlab = "Exponential Distribution Observation 
     Zoomed in Around Mean", xlim = 4.5:5.5)
abline(v = tm, col = "black")
abline(v = meaned, col = "blue")
abline(v = meanmns, col = "red")
legend("topright", legend = c("Theoretical", "1000 Obs", "40 Obs"), fill = c("black", "blue", "red"))
```

### Sample Variance vs Theoretical Variance

We know that the theoretical standard deviation of the Exponential Distribution is $$1/{\lambda}$$
and that variance is $$\sigma^2$$
We can calcualte the theoretical variance and compare it to the variance of the 1000 observations 
in the Exponential Distribution stored in object ed:
```{r}
##Theoretical variance
tv <- (1/l)^2
print(tv)
##Expenetial Distribution variance from 1000 observations
vared <- sd(ed)^2
print(vared)
##Difference in means
tv-vared
```

These variances are close when looking at 1000 observations, but what if we compare the variance 
from a sample of only 40 observations from the Exponential Distribution that was 
simulated 1000 times and stored in the object mns to the theoretical variance and compare 
the difference of variances to the previous calculation?
```{r}
##Mean of variances from sample of 40 observations from Exponential Distribution simulated 1000 times
varmns <- mean(vars)
print(varmns)
##Difference from theoretical
tv - varmns
```
The result is a little further from theoretical, but still pretty close.  Figure two compares the variances between
the theoretical, 1000 observations, and 40 observation variances.

```{r}
set.seed(1234)
fed = NULL
for (i in 1 : 40) fed <- c(fed, rexp(40, l))
```

```{r, fig.cap = "Figure Two - Densities for 1000 observations and 40 observations for Exponential Distribution"}
plot(c(tv, vared, varmns), col = c("black", "blue", "red"), pch = 15, main = "Plot of Variances", ylab = "Variance")
legend("topright", legend = c("Theoretical", "1000 Obs", "40 Obs"), fill = c("black", "blue", "red"))
```

### Distribution
